# –ü—Ä–∏–º–µ—Ä custom action –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –≤ Slack
# –ü–µ—Ä–µ–∏–º–µ–Ω—É–π—Ç–µ –≤ .conf –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

[Definition]

# –ö–æ–º–∞–Ω–¥–∞ –ø—Ä–∏ –±–∞–Ω–µ IP
actionban = curl -s -X POST <SLACK_WEBHOOK_URL> \
            -H 'Content-Type: application/json' \
            -d '{"text":"üö´ Fail2Ban: IP <ip> banned for <name> attack. Ban time: <bantime>s"}'

# –ö–æ–º–∞–Ω–¥–∞ –ø—Ä–∏ —Ä–∞–∑–±–∞–Ω–µ IP
actionunban = curl -s -X POST <SLACK_WEBHOOK_URL> \
              -H 'Content-Type: application/json' \
              -d '{"text":"‚úÖ Fail2Ban: IP <ip> unbanned from <name>"}'

# –ü–∞—Ä–∞–º–µ—Ç—Ä—ã
[Init]
name = default
bantime = 600

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:
# –í jail.local –¥–æ–±–∞–≤—å—Ç–µ:
# action = %(action_mw)s
#          slack-notify[name=%(__name__)s]
