# ============================================================================
# CATCH-ALL SERVER - Reject requests with unknown Host header
# ============================================================================
server {
    listen 80 default_server;
    server_name _;

    # Reject all requests to unknown hosts
    return 444;
}

# ============================================================================
# HTTP Server - Main configuration for local development
# ============================================================================
server {
    listen 80;
    server_name bitrix.vbch.dev localhost bitrix.local;
    charset utf-8;
    index index.php;
    root /home/bitrix/app;
    server_tokens off;

    client_max_body_size 128m;

    include /etc/nginx/snippets/header.conf;
    include /etc/nginx/snippets/resolver.conf;

    # Bitrix configuration
    include /etc/nginx/snippets/bitrix.conf;
}
